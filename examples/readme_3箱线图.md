 `vtkComputeQuartiles` 输出的结果常用于 **箱线图 (Box plot)**，它是一种很经典的统计图表。

`vtkComputeQuartiles` 会基于原始 `table` 计算每**列**的分位数（最小值、25%、50%、75%、最大值）。

输出还是一个 `vtkTable`（就是 `out_table`），但内容不再是原始数值，而是统计后的结果。

------

## 1. 箱线图包含哪些统计量？

对一列数据（比如 20 个样本）计算：

- **最小值 (Min)**
- **第一四分位 Q1 (25%)**
- **中位数 Median (50%)**
- **第三四分位 Q3 (75%)**
- **最大值 (Max)**

这些 5 个数值，通常被画成一组图形：

- 中间一个 **箱子 (box)**：范围是 Q1 到 Q3
   → 这部分有颜色、闭合，看起来像一个矩形。
- 箱子中间一条线：表示 Median。
- 从箱子上下延伸出的 **须 (whiskers)**：表示 Min 和 Max（有时会根据规则剪掉异常点）。
- 有些库还会单独把“异常值”画成点。

------

## 2. 为什么有些地方是“闭合有颜色”，有些地方是“只有一根线”？

这其实是因为不同的 **统计量表现形式不一样**：

- **箱子 (Q1–Q3 区间)**
   → 这是一个面积区域，所以会画成一个矩形，有颜色填充。
- **中位数 (Median)**
   → 这是一个单一值，所以只画一根线，贯穿在箱子中间。
- **Min 和 Max**
   → 也是单一值，所以只用一条线或者“胡须 (whisker)”来表示，不会有面积填充。

------

## 3. 为什么要用这种图？

箱线图的好处是能在 **一张图里总结分布特征**：

- 看数据的集中趋势（中位数）
- 看数据的离散程度（箱子宽窄代表四分位距 IQR）
- 看是否有偏态（箱子上下不对称就说明偏态分布）
- 看极端值（胡须外的点就是异常值）

它比单纯画平均值、标准差更直观，特别是在比较多组数据时。

------

### 小例子

假设两组数据：

- A: [10,11,12,13,14]
- B: [1,5,20,30,100]

画箱线图：

- A 的箱子很窄，中位数、上下须都很集中 → 说明数据很稳定。
- B 的箱子和须特别长，说明分布很离散，有极端值。

一眼就能看出 A 比 B 更稳定



------

### 1. 箱子中间的线 = **中位数 (Median)**

- 不是简单的 (min+max)/2(min+max)/2，而是把数据 **排序后** 取一半。
- 比如：数据 [2, 3, 100]
  - min=2，max=100，
  - 中位数=3（在 2 和 100 之间极度偏向下侧）。
  - 所以那根线会靠近箱子的底部，而不是居中。

------

### 2. 箱子的上下边界 = **Q1 (25%)** 和 **Q3 (75%)**

- 这两个值来自 **分位数**，跟数据分布有关。
- 如果数据集中在一边，Q1 和 Q3 会明显不对称。

------

### 3. 须 (whiskers)

- 通常从 Q1/Q3 延伸到 **最小值/最大值**，或者到“1.5×IQR 范围内的点”。
- 长短反映了数据分布的偏斜程度。

------

### 4. 关键点：**位置不代表几何意义，而是分布意义**

- 箱子的位置、大小，只是把一维数据的统计特征映射成一个形状。
- 你不能说“中位数的线比箱子居中高一点 → 值比较大”；
   它表达的是“数据有一半在这根线以下，一半在以上”。

换句话说，箱线图不是几何比例尺，而是 **概率分布的图示**。

------

🔑 总结：

- **中位数线** ≠ 几何中心，它只表示“一半数据小于它，一半数据大于它”。
- **箱子高度/宽度** ≠ 数值大小比例，而是表示“数据 25%~75% 的范围”。
- **须** ≠ 绝对范围，而是对极端值的处理方式.